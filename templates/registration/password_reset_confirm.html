{% extends "base.html" %}
{% block content %}
<div class="auth-wrapper login-page">
    <div class="col-lg-5 col-md-7 col-11 mx-auto">
        <div class="card p-2 py-3 auth-card">
            <h2 class="h5 mb-3 text-center">Definir nova senha</h2>
            {% if validlink %}
                <form method="post" class="app-form text-start">
                    {% csrf_token %}
                    {{ form.non_field_errors }}
                    <div class="mb-3">
                        <label class="form-label">{{ form.new_password1.label }}</label>
                        {{ form.new_password1 }}
                        {{ form.new_password1.errors }}
                    </div>
                    <div class="mb-3">
                        <label class="form-label">{{ form.new_password2.label }}</label>
                        {{ form.new_password2 }}
                        {{ form.new_password2.errors }}
                    </div>
                    <button type="submit" class="btn btn-primary w-100">Salvar nova senha</button>
                </form>
            {% else %}
                <div class="text-center text-muted">
                    O link de recuperacao expirou. Solicite novamente.
                </div>
                <div class="text-center mt-3">
                    <a class="btn btn-outline-secondary btn-sm" href="{% url 'password_recovery' %}">Nova solicitacao</a>
                </div>
            {% endif %}
        </div>
    </div>
</div>
{% endblock %}
